<?php define("SMS_CONTROLER_URL", DIR_APPLICATION . 'model/sms/'); require_once (defined("SMS_CONTROLER_URL")?SMS_CONTROLER_URL:"") .'smsController.php'; class ControllerSmsSettings extends SmsController { const TYPE_CUSTOMER = "customer"; const TYPE_ADMIN = "admin"; const ACTION_ADD = "add"; const ACTION_MYNUMBER = "mynumber"; const ACTION_TEXT = "text"; const SENDER_TEXT = 0; const SENDER_SYSTEM = 1; const SENDER_MYNUMBER = 2; const SENDER_SIMHOSTING = 3; const ISMS = 0; const SENDERTYPE = 1; private $v805793070f5065b87ac55045e0ce454f825ce5c2; private $v34007e633f5ac6eb61b0200a92b6a84bc94358a3; private $v10362d0b58d010e644ea05e4195fc6f67d72e348 = null; private $v7f261894a2f47535041bff3d2f42c3969e819d98 = null; private $vab6a314decb74f5c532ecb082cfeb1655b9e98bb = null; private $vfb4fc7683b8a345aa04bae018e72487978470e18 = null; private $v13eb3507bfa321384575c03ba80ea011ee4d3321 = ""; private $v7710d8c13dc8f5fb4a05e45a055744e25fdf5fae = -1; private $v4c8c306b4e96e300f3e870c435893b7e9c33c5f5 = ""; private $v27c847d6bec864e327cd4686358e7c1e1de59e9d = -1; private $va8ae96136aabf34f35206c26b90f1af9088e8044 = ""; private $v31f6359ed56e16253e2214540e9a74aa67a79f38 = null; private $ve5aa63528fa84652be7d86b274757e6ca3554317 = false; public function index() { parent::index(); } public function display() { $iae8c74e5273dec25096dbae362493a9f609ecfc8 = parent::display(); $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= "<script type=\"text/javascript\" src=\"" . DIR_SMS_JS . "sms.js\"></script>"; if(!$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) { $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = $this->select_country(); } $this->fd73c23671f3c82c332b4eac714f554731268d76c(); $iae8c74e5273dec25096dbae362493a9f609ecfc8 .='<h2>' . v_smswizard_smssettings . '</h2><p>' . v_smswizard_description . '</p>'; if($this->v10362d0b58d010e644ea05e4195fc6f67d72e348 == self::ACTION_ADD) { $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= ' <fieldset> <legend><img src="' . self::$setingsImg . '" /> ' . (($this->v7f261894a2f47535041bff3d2f42c3969e819d98 == self::TYPE_CUSTOMER) ? v_smswizard_customersettings : v_smswizard_adminsettings) . ' - ' . SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb] . '</legend> '; $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= $this->getTableServer(); $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= '</fieldset>'; } elseif($this->v10362d0b58d010e644ea05e4195fc6f67d72e348 == self::ACTION_MYNUMBER) { $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= ' <fieldset> <legend><img src="' . self::$setingsImg . '" /> ' . v_smswizard_ownsettings . ' ' . SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb] . '</legend> '; $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= $this->f772351b9d0754930a8b7eff64f708a7494ae5492(); $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= '</fieldset>'; } elseif($this->v10362d0b58d010e644ea05e4195fc6f67d72e348 == self::ACTION_TEXT) { $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= ' <fieldset> <legend><img src="' . self::$setingsImg . '" /> ' . v_smswizard_textsettings . ' ' . SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb] . '</legend> '; $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= $this->fade8b91b527a7de9a05776927699b248ff8e9fcd(); $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= '</fieldset>'; } else { $iae8c74e5273dec25096dbae362493a9f609ecfc8 .=' <fieldset> <legend><img src="' . self::$setingsImg . '" /> ' . v_smswizard_customersettings . '</legend> <form action="" method="post"> <p class="center"> ' . v_smswizard_country . ' ' . self::getSelect(array("name" => "country"), SmsVariables::$countries, $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . ' &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ' . self::getInput(array("type" => "submit", "name" => "submitAddCustomer", "value" => v_smswizard_addcountry)) . ' </p> </form> '; $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "sp_routes where type like 'customer' order by area_text"); if($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= $this->getTable($ic6e936002fe51b97bc1b95f337c09606ceb011de->row["info"], $ic6e936002fe51b97bc1b95f337c09606ceb011de->rows, self::TYPE_CUSTOMER); } $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= '</fieldset>'; $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= ' <fieldset> <legend><img src="' . self::$setingsImg . '" /> ' . v_smswizard_adminsettings . '</legend> <form action="" method="post"> <p class="center"> ' . v_smswizard_country . ' ' . self::getSelect(array("name" => "country"), SmsVariables::$countries, $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ' . self::getInput(array("type" => "submit", "name" => "submitAddAdmin", "value" => v_smswizard_addcountry)) . ' </p> </form> '; $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "sp_routes where type like 'admin' order by area_text"); if($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= $this->getTable($ic6e936002fe51b97bc1b95f337c09606ceb011de->row["info"], $ic6e936002fe51b97bc1b95f337c09606ceb011de->rows, self::TYPE_ADMIN); } $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= '</fieldset>'; } return $iae8c74e5273dec25096dbae362493a9f609ecfc8; } public function postProcess($icddcd508600972f2dab78cd14f7612aa4dc19a18 = NULL, $i6b496fee24729ce6f7683ba88d5a87d6130049b5 = NULL) { if($icddcd508600972f2dab78cd14f7612aa4dc19a18 == NULL && $i6b496fee24729ce6f7683ba88d5a87d6130049b5 == NULL) { return self::POST_ERROR; } if(isset($icddcd508600972f2dab78cd14f7612aa4dc19a18["submitAddCustomer"]) || isset($icddcd508600972f2dab78cd14f7612aa4dc19a18["submitAddCustomer_x"])) { $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = $this->escapePostVariables("country"); $this->v7f261894a2f47535041bff3d2f42c3969e819d98 = self::TYPE_CUSTOMER; $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = self::ACTION_ADD; $i4367816f1ae76ddc44b3953c9ce6460e181a0a3a = new SmsModel($this->getDb()); $this->vfb4fc7683b8a345aa04bae018e72487978470e18 = $i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->getCountryPriceList($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb); if($i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->isError()) { $this->_errors = array_unique($i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->getErrors()); return self::POST_ERROR; } } elseif(isset($icddcd508600972f2dab78cd14f7612aa4dc19a18["submitAddAdmin"]) || isset($icddcd508600972f2dab78cd14f7612aa4dc19a18["submitAddAdmin_x"])) { $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = $this->escapePostVariables("country"); $this->v7f261894a2f47535041bff3d2f42c3969e819d98 = self::TYPE_ADMIN; $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = self::ACTION_ADD; $i4367816f1ae76ddc44b3953c9ce6460e181a0a3a = new SmsModel($this->getDb()); $this->vfb4fc7683b8a345aa04bae018e72487978470e18 = $i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->getCountryPriceList($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb); if($i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->isError()) { $this->_errors = array_unique($i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->getErrors()); return self::POST_ERROR; } } elseif(isset($icddcd508600972f2dab78cd14f7612aa4dc19a18['submitDeleteRouteCustomer_x']) || isset($icddcd508600972f2dab78cd14f7612aa4dc19a18['submitDeleteRouteAdmin_x'])) { if(isset($icddcd508600972f2dab78cd14f7612aa4dc19a18['submitDeleteRouteCustomer_x'])) { $this->v7f261894a2f47535041bff3d2f42c3969e819d98 = self::TYPE_CUSTOMER; } else { $this->v7f261894a2f47535041bff3d2f42c3969e819d98 = self::TYPE_ADMIN; } $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = $this->escapePostVariables("country"); $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area=" . $this->escape($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . " and type='" . $this->escape($this->v7f261894a2f47535041bff3d2f42c3969e819d98) . "'"); $this->displayConfirmation(SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb] . v_smswizard_deleted); return self::POST_OK; } elseif(isset($icddcd508600972f2dab78cd14f7612aa4dc19a18["submitAddRoute"])) { $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = $this->escapePostVariables("country"); $this->v7f261894a2f47535041bff3d2f42c3969e819d98 = $this->escapePostVariables("type"); $this->vfb4fc7683b8a345aa04bae018e72487978470e18 = $this->escapePostVariables("info"); $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = $this->escapePostVariables("country"); $this->v13eb3507bfa321384575c03ba80ea011ee4d3321 = explode(";", $this->escapePostVariables("isms")); $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = $this->escapePostVariables("action"); if(!(count($this->v13eb3507bfa321384575c03ba80ea011ee4d3321) > 1)) { $this->f135ed8c089695afb151f86c39e694d5f2b3fb445($this->vfb4fc7683b8a345aa04bae018e72487978470e18); $this->_errors[] = v_smswizard_choosesender; return self::POST_ERROR; } if($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::SENDERTYPE] == self::SENDER_SYSTEM || $this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::SENDERTYPE] == self::SENDER_SIMHOSTING) { $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area='" . $this->escape($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . "' AND type='" . $this->escape($this->v7f261894a2f47535041bff3d2f42c3969e819d98) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_routes VALUES ('" . $this->escape($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . "','" . $this->escape($this->v7f261894a2f47535041bff3d2f42c3969e819d98) . "','" . $this->escape($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::ISMS]) . "','" . $this->escape($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::SENDERTYPE]) . "','','" . $this->escape($this->vfb4fc7683b8a345aa04bae018e72487978470e18) . "','" . $this->escape(SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb]) . "')"); $this->displayConfirmation(SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb] . v_smswizard_countrysaved); $this->v13eb3507bfa321384575c03ba80ea011ee4d3321 = null; $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = null; $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = null; return self::POST_OK; } elseif($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::SENDERTYPE] == self::SENDER_MYNUMBER) { $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = self::ACTION_MYNUMBER; return self::POST_ERROR; } elseif($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::SENDERTYPE] == self::SENDER_TEXT) { $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = self::ACTION_TEXT; return self::POST_ERROR; } return self::POST_ERROR; } elseif(isset($icddcd508600972f2dab78cd14f7612aa4dc19a18['submitAddTextSenderID'])) { $this->v7710d8c13dc8f5fb4a05e45a055744e25fdf5fae = $this->escapePostVariables("textsenderID"); $this->v4c8c306b4e96e300f3e870c435893b7e9c33c5f5 = $this->escapePostVariables("newtextsenderID"); $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = $this->escapePostVariables("country"); $this->v7f261894a2f47535041bff3d2f42c3969e819d98 = $this->escapePostVariables("type"); $this->vfb4fc7683b8a345aa04bae018e72487978470e18 = $this->escapePostVariables("info"); $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = $this->escapePostVariables("country"); $this->v13eb3507bfa321384575c03ba80ea011ee4d3321 = explode(";", $this->escapePostVariables("isms")); $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = $this->escapePostVariables("action"); if($this->v7710d8c13dc8f5fb4a05e45a055744e25fdf5fae != -1) { $i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae = $this->v7710d8c13dc8f5fb4a05e45a055744e25fdf5fae; } else { $i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae = $this->v4c8c306b4e96e300f3e870c435893b7e9c33c5f5; } if(!strlen($i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae) > 0) { $this->_errors[] = v_smswizard_filltextsid; return self::POST_ERROR; } if(strlen($i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae) > 11 || strlen($i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae) < 3) { $this->_errors[] = v_smswizard_filltextsid2; return self::POST_ERROR; } if(preg_match('/[^A-Za-z._]/', $this->v4c8c306b4e96e300f3e870c435893b7e9c33c5f5) && $this->v4c8c306b4e96e300f3e870c435893b7e9c33c5f5 == -1) { $this->_errors[] = v_smswizard_chars . "a-z A-Z _ ."; return self::POST_ERROR; } $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area='" . $this->escape($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . "' AND type='" . $this->escape($this->v7f261894a2f47535041bff3d2f42c3969e819d98) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_routes VALUES ('" . $this->escape($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . "','" . $this->escape($this->v7f261894a2f47535041bff3d2f42c3969e819d98) . "','" . $this->escape($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::ISMS]) . "','" . $this->escape($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::SENDERTYPE]) . "','" . $this->escape($i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae) . "','" . $this->escape($this->vfb4fc7683b8a345aa04bae018e72487978470e18) . "','" . $this->escape(SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb]) . "')"); $this->displayConfirmation(v_smswizard_textsidfor . SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb] . v_smswizard_wassaved); $this->Execute("REPLACE INTO " . DB_PREFIX . "sp_textsenderIDs VALUES ('" . $this->escape($i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae) . "')"); $this->v13eb3507bfa321384575c03ba80ea011ee4d3321 = null; $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = null; $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = null; return self::POST_OK; } elseif(isset($icddcd508600972f2dab78cd14f7612aa4dc19a18['submitAddOwnNumberSenderID'])) { $this->v27c847d6bec864e327cd4686358e7c1e1de59e9d = $this->escapePostVariables("ownsenderID"); $this->va8ae96136aabf34f35206c26b90f1af9088e8044 = $this->escapePostVariables("newownsenderID"); $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = $this->escapePostVariables("country"); $this->v7f261894a2f47535041bff3d2f42c3969e819d98 = $this->escapePostVariables("type"); $this->vfb4fc7683b8a345aa04bae018e72487978470e18 = $this->escapePostVariables("info"); $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = $this->escapePostVariables("country"); $this->v13eb3507bfa321384575c03ba80ea011ee4d3321 = explode(";", $this->escapePostVariables("isms")); $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = $this->escapePostVariables("action"); $this->v31f6359ed56e16253e2214540e9a74aa67a79f38 = $this->escapePostVariables("validateCode"); $this->ve5aa63528fa84652be7d86b274757e6ca3554317 = $this->escapePostVariables("sendedCode"); if($this->v27c847d6bec864e327cd4686358e7c1e1de59e9d != -1) { $i27c847d6bec864e327cd4686358e7c1e1de59e9d = $this->v27c847d6bec864e327cd4686358e7c1e1de59e9d; } else { $i27c847d6bec864e327cd4686358e7c1e1de59e9d = $this->va8ae96136aabf34f35206c26b90f1af9088e8044; } if(!strlen($i27c847d6bec864e327cd4686358e7c1e1de59e9d) > 0) { $this->_errors[] = v_smswizard_fillsid; return self::POST_ERROR; } if((!PhoneNumber::isPhoneNumber($i27c847d6bec864e327cd4686358e7c1e1de59e9d)) && $this->v27c847d6bec864e327cd4686358e7c1e1de59e9d == -1) { $this->_errors[] = v_smswizard_mustbenumber; return self::POST_ERROR; } if($this->ve5aa63528fa84652be7d86b274757e6ca3554317 && !preg_match("/^([0-9])*$/", $this->v31f6359ed56e16253e2214540e9a74aa67a79f38, $i978a1b814f9d68d5a56042c5dc05da065d996dd4)) { $this->_errors[] = v_smswizard_confirmcode; return self::POST_ERROR; } elseif($this->ve5aa63528fa84652be7d86b274757e6ca3554317 && $this->v7710d8c13dc8f5fb4a05e45a055744e25fdf5fae == -1) { $i4367816f1ae76ddc44b3953c9ce6460e181a0a3a = new SmsModel($this->getDb()); $i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->validatePhoneNumberCode($this->v31f6359ed56e16253e2214540e9a74aa67a79f38, $i27c847d6bec864e327cd4686358e7c1e1de59e9d); if($i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->isError()) { $this->_errors = array_unique($i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->getErrors()); return self::POST_ERROR; } else { $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area=" . $this->escape($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . " AND type='" . $this->escape($this->v7f261894a2f47535041bff3d2f42c3969e819d98) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_routes VALUES ('" . $this->escape($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . "','" . $this->escape($this->v7f261894a2f47535041bff3d2f42c3969e819d98) . "','" . $this->escape($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::ISMS]) . "','" . $this->escape($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::SENDERTYPE]) . "','" . $this->escape($i27c847d6bec864e327cd4686358e7c1e1de59e9d) . "','" . $this->escape($this->vfb4fc7683b8a345aa04bae018e72487978470e18) . "','" . $this->escape(SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb]) . "')"); $this->_okMsg[] = v_smswizard_ownsidfor . SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb] . v_smswizard_wassaved; $this->Execute("INSERT IGNORE INTO " . DB_PREFIX . "sp_ownnumbersenderIDs VALUES ('" . $this->escape($i27c847d6bec864e327cd4686358e7c1e1de59e9d) . "')"); $this->v13eb3507bfa321384575c03ba80ea011ee4d3321 = null; $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = null; $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = null; return self::POST_OK; } } elseif($this->v7710d8c13dc8f5fb4a05e45a055744e25fdf5fae == -1) { $i4367816f1ae76ddc44b3953c9ce6460e181a0a3a = new SmsModel($this->getDb()); $iec6a92397a1c72d4ecd169de1876bec3be0b98f3 = $i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->validatePhoneNumber($i27c847d6bec864e327cd4686358e7c1e1de59e9d, $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb, $this->v7f261894a2f47535041bff3d2f42c3969e819d98); if($i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->isError()) { if($iec6a92397a1c72d4ecd169de1876bec3be0b98f3) { $this->ve5aa63528fa84652be7d86b274757e6ca3554317 = true; } $this->_okMsg = array_unique($i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->getConfirm()); $this->_errors = array_unique($i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->getErrors()); return self::POST_ERROR; } else { $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area=" . $this->escape($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . " AND type='" . $this->escape($this->v7f261894a2f47535041bff3d2f42c3969e819d98) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_routes VALUES ('" . $this->escape($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . "','" . $this->escape($this->v7f261894a2f47535041bff3d2f42c3969e819d98) . "','" . $this->escape($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::ISMS]) . "','" . $this->escape($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::SENDERTYPE]) . "','" . $this->escape($i27c847d6bec864e327cd4686358e7c1e1de59e9d) . "','" . $this->escape($this->vfb4fc7683b8a345aa04bae018e72487978470e18) . "','" . $this->escape(SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb]) . "')"); $this->_okMsg[] = v_smswizard_ownsidfor . SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb] . v_smswizard_wassaved; $this->Execute("INSERT IGNORE INTO " . DB_PREFIX . "sp_ownnumbersenderIDs VALUES ('" . $this->escape($i27c847d6bec864e327cd4686358e7c1e1de59e9d) . "')"); $this->v13eb3507bfa321384575c03ba80ea011ee4d3321 = null; $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = null; $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = null; return self::POST_OK; } } else { $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area=" . $this->escape($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . " AND type='" . $this->escape($this->v7f261894a2f47535041bff3d2f42c3969e819d98) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_routes VALUES ('" . $this->escape($this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb) . "','" . $this->escape($this->v7f261894a2f47535041bff3d2f42c3969e819d98) . "','" . $this->escape($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::ISMS]) . "','" . $this->escape($this->v13eb3507bfa321384575c03ba80ea011ee4d3321[self::SENDERTYPE]) . "','" . $this->escape($i27c847d6bec864e327cd4686358e7c1e1de59e9d) . "','" . $this->escape($this->vfb4fc7683b8a345aa04bae018e72487978470e18) . "','" . $this->escape(SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb]) . "')"); $this->displayConfirmation(v_smswizard_ownsidfor . SmsVariables::$countries[$this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb] . v_smswizard_wassaved); $this->v13eb3507bfa321384575c03ba80ea011ee4d3321 = null; $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb = null; $this->v10362d0b58d010e644ea05e4195fc6f67d72e348 = null; return self::POST_OK; } } return self::POST_ERROR; } private function f135ed8c089695afb151f86c39e694d5f2b3fb445($ifb4fc7683b8a345aa04bae018e72487978470e18) { $this->payment = null; $this->v34007e633f5ac6eb61b0200a92b6a84bc94358a3 = array(); $this->v805793070f5065b87ac55045e0ce454f825ce5c2 = array(); $i47945e993004c137f2a9e8ebe8c6a37da82bbd94 = explode("%", $ifb4fc7683b8a345aa04bae018e72487978470e18); $i903c0fdf04ea1e80e4ed55c98fec0f8ef357c650 = explode("_", $i47945e993004c137f2a9e8ebe8c6a37da82bbd94[0]); $if86a5e70210b43ae6fea3c86e9f3977db8fdd47b = explode(";", $i903c0fdf04ea1e80e4ed55c98fec0f8ef357c650[0]); $this->payment = explode(";", $i903c0fdf04ea1e80e4ed55c98fec0f8ef357c650[1]); $this->dph = $i47945e993004c137f2a9e8ebe8c6a37da82bbd94[1]; for($i8c507ef411bf0acbf8bc7d37efc59b0224b41d4d = 0; $i8c507ef411bf0acbf8bc7d37efc59b0224b41d4d < count($if86a5e70210b43ae6fea3c86e9f3977db8fdd47b); $i8c507ef411bf0acbf8bc7d37efc59b0224b41d4d++) { $ie25a2baab820c6def38e7d26ccd8c0502f39d11b = explode("|", $if86a5e70210b43ae6fea3c86e9f3977db8fdd47b[$i8c507ef411bf0acbf8bc7d37efc59b0224b41d4d]); if(isset($ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3]) && ($ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3] == 1 || $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3] == 2 || $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3] == 4))  { $this->v34007e633f5ac6eb61b0200a92b6a84bc94358a3[0][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[0]][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[1]] = $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[2]; $this->v805793070f5065b87ac55045e0ce454f825ce5c2[0][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[0]][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[1]] = $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[4]; } if(isset($ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3]) && $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3] == 3)  { $this->v34007e633f5ac6eb61b0200a92b6a84bc94358a3[1][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[0]][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[1]] = $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[2]; $this->v805793070f5065b87ac55045e0ce454f825ce5c2[1][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[0]][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[1]] = $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[4]; } if(isset($ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3]) && ($ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3] == 1 || $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3] == 2 || $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3] == 5))  { $this->v34007e633f5ac6eb61b0200a92b6a84bc94358a3[2][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[0]][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[1]] = $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[2]; $this->v805793070f5065b87ac55045e0ce454f825ce5c2[2][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[0]][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[1]] = $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[4]; } if(isset($ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3]) && $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[3] == 10)  { $this->v34007e633f5ac6eb61b0200a92b6a84bc94358a3[3][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[0]][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[1]] = $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[2]; $this->v805793070f5065b87ac55045e0ce454f825ce5c2[3][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[0]][$ie25a2baab820c6def38e7d26ccd8c0502f39d11b[1]] = $ie25a2baab820c6def38e7d26ccd8c0502f39d11b[4]; } } return true; } public function formatPrice($ic2aa497edcbf28c8633feea6297e653d3de07c07, $ie50295d9dcc255e0f5fcba46726da0065b67b616 = 4) { return (number_format($ic2aa497edcbf28c8633feea6297e653d3de07c07, $ie50295d9dcc255e0f5fcba46726da0065b67b616, ",", " ")); } public function getTable($ifb4fc7683b8a345aa04bae018e72487978470e18, $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89, $i7f261894a2f47535041bff3d2f42c3969e819d98) { $this->f135ed8c089695afb151f86c39e694d5f2b3fb445($ifb4fc7683b8a345aa04bae018e72487978470e18); if($i7f261894a2f47535041bff3d2f42c3969e819d98 == self::TYPE_CUSTOMER) { $i761bca3ab5df01391533cf0b1762f1ddbd9e1c1c = "submitAddCustomer"; $ibeab4e6eb04d9d224a8af353acb02a4799fdf024 = "submitDeleteRouteCustomer"; } else { $i761bca3ab5df01391533cf0b1762f1ddbd9e1c1c = "submitAddAdmin"; $ibeab4e6eb04d9d224a8af353acb02a4799fdf024 = "submitDeleteRouteAdmin"; } $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903 = $this->f31960320a6506b7885eaad4c0e46fc9475a6b9b1(); $iae8c74e5273dec25096dbae362493a9f609ecfc8 = ' <table class="priceTable"> <thead> <tr> <th rowspan="2">' . v_smswizard_sendertype . '</th> <th rowspan="2" class="w150">' . v_smswizard_network . '</th> <th colspan="3" class="noBottom">' . v_smswizard_price . '</th> <th rowspan="2" class="w150">' . v_smswizard_smsprice . '</th> <th rowspan="2" class="noRight w100">' . v_smswizard_unicode . '</th> </tr> <tr> <th class="noTop w150">' . v_smswizard_payment . ' ' . $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[0][0] . ' (' . smscurrency . ')</th> <th class="noTop w150">' . $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[1][0] . ' (' . smscurrency . ')</th> <th class="noTop w150">' . $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[2][0] . ' (' . smscurrency . ')</th> </tr> </head> <tbody> '; foreach($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 as $i43ef5aef4168652439ef5de195405ced9f0f7952) { $this->f135ed8c089695afb151f86c39e694d5f2b3fb445($i43ef5aef4168652439ef5de195405ced9f0f7952["info"]); $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903 = $this->f31960320a6506b7885eaad4c0e46fc9475a6b9b1(); $i925863b800f3d5cd86903a365d9190288b5ba07b = $this->f7930c3496d92cf735bab5246cafa53dd843e5683($i43ef5aef4168652439ef5de195405ced9f0f7952["sendertype"], $i43ef5aef4168652439ef5de195405ced9f0f7952["senderID"], $i43ef5aef4168652439ef5de195405ced9f0f7952["isms"]); $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= ' <tr class="noHover"> <td><strong>' . htmlspecialchars($i43ef5aef4168652439ef5de195405ced9f0f7952["area_text"]) . ' (+' . htmlspecialchars($i43ef5aef4168652439ef5de195405ced9f0f7952["area"]) . ')' . '</strong></td> <td colspan="6" class="noRight"> <form action="" method="post"> ' . self::getInput(array("type" => "hidden", "name" => "country", "value" => $i43ef5aef4168652439ef5de195405ced9f0f7952["area"])) . ' ' . self::getInput(array("type" => "image", "src" => self::$adminEdit, "name" => $i761bca3ab5df01391533cf0b1762f1ddbd9e1c1c, "alt" => ucfirst(v_smswizard_edit) . " " . $i43ef5aef4168652439ef5de195405ced9f0f7952['area_text'], "title" => ucfirst(v_smswizard_edit) . " " . $i43ef5aef4168652439ef5de195405ced9f0f7952['area_text'])) . ' ' . self::getInput(array("type" => "image", "src" => self::$adminDelete, "name" => $ibeab4e6eb04d9d224a8af353acb02a4799fdf024, "alt" => ucfirst(v_smswizard_delete) . " " . $i43ef5aef4168652439ef5de195405ced9f0f7952['area_text'], "title" => ucfirst(v_smswizard_delete) . " " . $i43ef5aef4168652439ef5de195405ced9f0f7952['area_text'], "onclick" => "return confirm('" . v_smswizard_suredelete . " " . $i43ef5aef4168652439ef5de195405ced9f0f7952["area_text"] . "?')")) . ' </form> </td> </tr> '; $i84676540daef1510ea5729a183290848a9e7accb = 0; $id88ac2de42750bf516b4a5c600689b889b2fdc39 = false; foreach($this->v34007e633f5ac6eb61b0200a92b6a84bc94358a3[$i43ef5aef4168652439ef5de195405ced9f0f7952["sendertype"]][$i43ef5aef4168652439ef5de195405ced9f0f7952["isms"]] as $i7baa31be52215025da340cfec29600d8d2b327c4 => $i0e4db502c191d65f4204e889a1aff420bded9efe) { if(preg_match("/^\./", trim($i7baa31be52215025da340cfec29600d8d2b327c4))) { $i82ed3493150f3db4982291e587a57d15be62dd4e = "virtuals" . $i43ef5aef4168652439ef5de195405ced9f0f7952["area"] . $i43ef5aef4168652439ef5de195405ced9f0f7952["type"] . " hidden"; $id88ac2de42750bf516b4a5c600689b889b2fdc39 = true; } else { $i82ed3493150f3db4982291e587a57d15be62dd4e = ""; } $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= ' <tr ' . self::isEven($if3b517d335a2b4ef26a37d2656c41c234b2a734a, "even", false, $i82ed3493150f3db4982291e587a57d15be62dd4e) . ' > <td class="noBottom">' . (($i84676540daef1510ea5729a183290848a9e7accb == 0) ? $i925863b800f3d5cd86903a365d9190288b5ba07b : "") . '</td> <td>' . $i7baa31be52215025da340cfec29600d8d2b327c4 . '</td> <td class="center">' . $this->formatPrice(round($i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[0][1] * $i0e4db502c191d65f4204e889a1aff420bded9efe, 4)) . '</td> <td class="center">' . $this->formatPrice(round($i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[1][1] * $i0e4db502c191d65f4204e889a1aff420bded9efe, 4)) . '</td> <td class="center">' . $this->formatPrice(round($i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[2][1] * $i0e4db502c191d65f4204e889a1aff420bded9efe, 4)) . '</td> <td class="center">' . htmlspecialchars($i0e4db502c191d65f4204e889a1aff420bded9efe) . '</td> <td class="center noRight">' . (($this->v805793070f5065b87ac55045e0ce454f825ce5c2[$i43ef5aef4168652439ef5de195405ced9f0f7952["sendertype"]][$i43ef5aef4168652439ef5de195405ced9f0f7952["isms"]][$i7baa31be52215025da340cfec29600d8d2b327c4] > 0) ? '<img src="' . self::$acceptImg . '" alt="' . v_smswizard_unicodesupported . '" title="' . v_smswizard_unicodesupported . '"/>' : '<img src="' . self::$denyImg . '" alt="' . v_smswizard_nounicode . '" title="' . v_smswizard_nounicode . '"/>') . '</td> </tr> '; $i84676540daef1510ea5729a183290848a9e7accb++; if($i84676540daef1510ea5729a183290848a9e7accb == count($this->v34007e633f5ac6eb61b0200a92b6a84bc94358a3[$i43ef5aef4168652439ef5de195405ced9f0f7952["sendertype"]][$i43ef5aef4168652439ef5de195405ced9f0f7952["isms"]]) && $id88ac2de42750bf516b4a5c600689b889b2fdc39) { $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= ' <tr class="noHoverDown"> <td></td> <td colspan="6" class="noRight"><span class="variables" onclick="jQuery(\'.virtuals' . $i43ef5aef4168652439ef5de195405ced9f0f7952["area"] . $i43ef5aef4168652439ef5de195405ced9f0f7952["type"] . '\').toggleClass(\'hidden\');">' . v_show_virtual . '</span></td> </tr> '; } } } $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= ' </tbody> </table> '; return $iae8c74e5273dec25096dbae362493a9f609ecfc8; } public function getTableServer() { if($this->vfb4fc7683b8a345aa04bae018e72487978470e18 == null) { return false; } $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = $this->f922aad2a422f277c9ae988bc616f180c33de5aa8($this->v7f261894a2f47535041bff3d2f42c3969e819d98, $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb); $this->f135ed8c089695afb151f86c39e694d5f2b3fb445($this->vfb4fc7683b8a345aa04bae018e72487978470e18); $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903 = $this->f31960320a6506b7885eaad4c0e46fc9475a6b9b1(); $iae8c74e5273dec25096dbae362493a9f609ecfc8 = ' <form action="" method="post"> <table class="priceTable"> <thead> <tr> <th rowspan="2">' . v_smswizard_sendertype . '</th> <th rowspan="2" class="w150">' . v_smswizard_network . '</th> <th colspan="3" class="noBottom">' . v_smswizard_price . '</th> <th rowspan="2" class="w150">' . v_smswizard_smsprice . '</th> <th rowspan="2" class="noRight w100">' . v_smswizard_unicode . '</th> </tr> <tr> <th class="noTop w150">' . v_smswizard_payment . ' ' . $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[0][0] . ' (' . smscurrency . ')</th> <th class="noTop w150">' . $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[1][0] . ' (' . smscurrency . ')</th> <th class="noTop w150">' . $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[2][0] . ' (' . smscurrency . ')</th> </tr> </head> <tbody> '; foreach($this->v34007e633f5ac6eb61b0200a92b6a84bc94358a3 as $i7f261894a2f47535041bff3d2f42c3969e819d98 => $i43ef5aef4168652439ef5de195405ced9f0f7952) { $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903 = $this->f31960320a6506b7885eaad4c0e46fc9475a6b9b1(); foreach($i43ef5aef4168652439ef5de195405ced9f0f7952 as $i7baa31be52215025da340cfec29600d8d2b327c4 => $i0e4db502c191d65f4204e889a1aff420bded9efe) { $i925863b800f3d5cd86903a365d9190288b5ba07b = self::getInput(array("name" => "isms", "type" => "radio", "value" => $i7baa31be52215025da340cfec29600d8d2b327c4 . ";" . $i7f261894a2f47535041bff3d2f42c3969e819d98), ($i7baa31be52215025da340cfec29600d8d2b327c4 . ";" . $i7f261894a2f47535041bff3d2f42c3969e819d98) == ($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["isms"] . ";" . $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["sendertype"])); $i925863b800f3d5cd86903a365d9190288b5ba07b .= $this->f7930c3496d92cf735bab5246cafa53dd843e5683($i7f261894a2f47535041bff3d2f42c3969e819d98, v_smswizard_eg . " myweb.com", $i7baa31be52215025da340cfec29600d8d2b327c4); $i84676540daef1510ea5729a183290848a9e7accb = 0; $id88ac2de42750bf516b4a5c600689b889b2fdc39 = false; foreach($i0e4db502c191d65f4204e889a1aff420bded9efe as $ic19c86f6eecb365bb04c0cffa4de058472196df9 => $ie10f888510a016f5ea5f46b736afa9e60fb62395) { if(preg_match("/^\./", trim($ic19c86f6eecb365bb04c0cffa4de058472196df9))) { $i82ed3493150f3db4982291e587a57d15be62dd4e = "virtuals" . $i7f261894a2f47535041bff3d2f42c3969e819d98 . $i7baa31be52215025da340cfec29600d8d2b327c4 . " hidden"; $id88ac2de42750bf516b4a5c600689b889b2fdc39 = true; } else { $i82ed3493150f3db4982291e587a57d15be62dd4e = ""; } if(count($i0e4db502c191d65f4204e889a1aff420bded9efe) == $i84676540daef1510ea5729a183290848a9e7accb + 1 && !$id88ac2de42750bf516b4a5c600689b889b2fdc39) { $i82ed3493150f3db4982291e587a57d15be62dd4e .= " underline"; } $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= ' <tr ' . self::isEven($if3b517d335a2b4ef26a37d2656c41c234b2a734a, "even", false, $i82ed3493150f3db4982291e587a57d15be62dd4e) . ' > <td class="noBottom">' . (($i84676540daef1510ea5729a183290848a9e7accb == 0) ? $i925863b800f3d5cd86903a365d9190288b5ba07b : "") . '</td> <td>' . $ic19c86f6eecb365bb04c0cffa4de058472196df9 . '</td> <td class="center">' . $this->formatPrice(round($i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[0][1] * $ie10f888510a016f5ea5f46b736afa9e60fb62395, 4)) . '</td> <td class="center">' . $this->formatPrice(round($i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[1][1] * $ie10f888510a016f5ea5f46b736afa9e60fb62395, 4)) . '</td> <td class="center">' . $this->formatPrice(round($i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[2][1] * $ie10f888510a016f5ea5f46b736afa9e60fb62395, 4)) . '</td> <td class="center">' . htmlspecialchars($ie10f888510a016f5ea5f46b736afa9e60fb62395) . '</td> <td class="center noRight">' . (($this->v805793070f5065b87ac55045e0ce454f825ce5c2[$i7f261894a2f47535041bff3d2f42c3969e819d98][$i7baa31be52215025da340cfec29600d8d2b327c4][$ic19c86f6eecb365bb04c0cffa4de058472196df9] > 0) ? '<img src="' . self::$acceptImg . '" alt="' . v_smswizard_unicodesupported . '" title="' . v_smswizard_unicodesupported . '"/>' : '<img src="' . self::$denyImg . '" alt="' . v_smswizard_nounicode . '" title="' . v_smswizard_nounicode . '"/>') . '</td> </tr> '; $i84676540daef1510ea5729a183290848a9e7accb++; if($i84676540daef1510ea5729a183290848a9e7accb == count($i0e4db502c191d65f4204e889a1aff420bded9efe) && $id88ac2de42750bf516b4a5c600689b889b2fdc39) { $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= ' <tr class="noHoverDown"> <td></td> <td colspan="6" class="noRight"><span class="variables" onclick="jQuery(\'.virtuals' . $i7f261894a2f47535041bff3d2f42c3969e819d98 . $i7baa31be52215025da340cfec29600d8d2b327c4 . '\').toggleClass(\'hidden\');">' . v_show_virtual . '</span></td> </tr> '; } } } } $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= ' </tbody> </table> '; $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= "<p>" . self::getInput(array("name" => "submitAddRoute", "type" => "submit", "value" => v_smswizard_savesettings), false) . self::getInput(array("name" => "info", "type" => "hidden", "value" => $this->vfb4fc7683b8a345aa04bae018e72487978470e18)) . self::getInput(array("name" => "country", "type" => "hidden", "value" => $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb)) . self::getInput(array("name" => "action", "type" => "hidden", "value" => $this->v10362d0b58d010e644ea05e4195fc6f67d72e348)) . self::getInput(array("name" => "type", "type" => "hidden", "value" => $this->v7f261894a2f47535041bff3d2f42c3969e819d98)) . "</p>"; if(method_exists($this, "addToPostAdapter")) { $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= $this->addToPostAdapter(true); } $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= '</form>'; return $iae8c74e5273dec25096dbae362493a9f609ecfc8; } private function fade8b91b527a7de9a05776927699b248ff8e9fcd() { $i4c8c306b4e96e300f3e870c435893b7e9c33c5f5 = $i82ed3493150f3db4982291e587a57d15be62dd4e = ""; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = $this->f922aad2a422f277c9ae988bc616f180c33de5aa8($this->v7f261894a2f47535041bff3d2f42c3969e819d98, $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb); if($this->v7710d8c13dc8f5fb4a05e45a055744e25fdf5fae != -1) { $i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae = $this->v7710d8c13dc8f5fb4a05e45a055744e25fdf5fae; } elseif(isset($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["senderID"])) { $i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae = $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["senderID"]; if($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["senderID"] != "") { $i82ed3493150f3db4982291e587a57d15be62dd4e = " class=\"hidden\""; $i4c8c306b4e96e300f3e870c435893b7e9c33c5f5 = ""; } else { $i82ed3493150f3db4982291e587a57d15be62dd4e = ""; } } else { $i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae = -1; } if(strlen($this->v4c8c306b4e96e300f3e870c435893b7e9c33c5f5) > 0 && $this->v7710d8c13dc8f5fb4a05e45a055744e25fdf5fae == -1) { $i4c8c306b4e96e300f3e870c435893b7e9c33c5f5 = $this->v4c8c306b4e96e300f3e870c435893b7e9c33c5f5; $i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae = -1; $i82ed3493150f3db4982291e587a57d15be62dd4e = ""; } $iae8c74e5273dec25096dbae362493a9f609ecfc8 = ' <form action="" method="post"> <table class="formTable profile"> <tbody> <tr> <td>' . self::getLabel(v_smswizard_existingsid, 'class="bold"') . '</td> <td>' . self::getSelect(array("name" => "textsenderID", "id" => "selectTextSender", "onchange" => "textSender();"), $this->fffddc0d0ad3bf49141230d566bf6750bd2148ebc(), $i7710d8c13dc8f5fb4a05e45a055744e25fdf5fae) . ' *</td> </tr> <tr id="newTextSender"' . $i82ed3493150f3db4982291e587a57d15be62dd4e . '> <td>' . self::getLabel(v_smswizard_newsid, 'class="bold"') . '</td> <td>' . self::getInput(array("name" => "newtextsenderID", "type" => "text", "value" => $i4c8c306b4e96e300f3e870c435893b7e9c33c5f5)) . ' * ' . self::getNote(v_smswizard_maxchars) . '</td> </tr> <tr> <td></td> <td>' . self::getInput(array("name" => "submitAddTextSenderID", "type" => "submit", "value" => v_smswizard_confirm)) . '</td> </tr> </tbody> </table> <div class="small note"><sup>*</sup> ' . v_adminsmsprofile_required . '</div>' . self::getInput(array("name" => "info", "type" => "hidden", "value" => $this->vfb4fc7683b8a345aa04bae018e72487978470e18)) . self::getInput(array("name" => "country", "type" => "hidden", "value" => $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb)) . self::getInput(array("name" => "type", "type" => "hidden", "value" => $this->v7f261894a2f47535041bff3d2f42c3969e819d98)) . self::getInput(array("name" => "action", "type" => "hidden", "value" => $this->v10362d0b58d010e644ea05e4195fc6f67d72e348)) . self::getInput(array("name" => "isms", "type" => "hidden", "value" => implode(";", $this->v13eb3507bfa321384575c03ba80ea011ee4d3321))); if(method_exists($this, "addToPostAdapter")) { $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= $this->addToPostAdapter(true); } $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= '</form>'; return $iae8c74e5273dec25096dbae362493a9f609ecfc8; } private function f772351b9d0754930a8b7eff64f708a7494ae5492() { $ia8ae96136aabf34f35206c26b90f1af9088e8044 = $i82ed3493150f3db4982291e587a57d15be62dd4e = ""; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = $this->f922aad2a422f277c9ae988bc616f180c33de5aa8($this->v7f261894a2f47535041bff3d2f42c3969e819d98, $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb); if($this->v27c847d6bec864e327cd4686358e7c1e1de59e9d != -1) { $i27c847d6bec864e327cd4686358e7c1e1de59e9d = $this->v27c847d6bec864e327cd4686358e7c1e1de59e9d; } elseif(isset($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["senderID"]) && PhoneNumber::isPhoneNumber($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["senderID"])) { $i27c847d6bec864e327cd4686358e7c1e1de59e9d = $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["senderID"]; if($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["senderID"] != "") { $i82ed3493150f3db4982291e587a57d15be62dd4e = " class=\"hidden\""; $ia8ae96136aabf34f35206c26b90f1af9088e8044 = ""; } else { $i82ed3493150f3db4982291e587a57d15be62dd4e = ""; } } else { $i27c847d6bec864e327cd4686358e7c1e1de59e9d = -1; } if(strlen($this->va8ae96136aabf34f35206c26b90f1af9088e8044) > 0 && $this->v27c847d6bec864e327cd4686358e7c1e1de59e9d == -1) { $ia8ae96136aabf34f35206c26b90f1af9088e8044 = $this->va8ae96136aabf34f35206c26b90f1af9088e8044; $i27c847d6bec864e327cd4686358e7c1e1de59e9d = -1; $i82ed3493150f3db4982291e587a57d15be62dd4e = ""; } if($this->ve5aa63528fa84652be7d86b274757e6ca3554317) { $i82ed3493150f3db4982291e587a57d15be62dd4e = " class=\"hidden\""; $ib30dc1d4ae198c05d813e50a0f7f78c8d966750c = " class=\"hidden\""; $ice3aeffb62401a3b61082f8cdfe9d0cc49126032 = ""; } else { $ib30dc1d4ae198c05d813e50a0f7f78c8d966750c = ""; $ice3aeffb62401a3b61082f8cdfe9d0cc49126032 = " class=\"hidden\""; } $iae8c74e5273dec25096dbae362493a9f609ecfc8 = ' <form action="" method="post"> <table class="formTable profile"> <tbody> <tr' . $ib30dc1d4ae198c05d813e50a0f7f78c8d966750c . '> <td>' . self::getLabel(v_smswizard_existingown, 'class="bold"') . '</td> <td>' . self::getSelect(array("name" => "ownsenderID", "id" => "selectOwnSender", "onchange" => "ownSender();"), $this->fe6384d66988a761d4c5503e6a331406deb348e73(), $i27c847d6bec864e327cd4686358e7c1e1de59e9d) . ' *</td> </tr> <tr id="newOwnSender"' . $i82ed3493150f3db4982291e587a57d15be62dd4e . '> <td>' . self::getLabel(v_smswizard_newownnrid, 'class="bold"') . '</td> <td>' . self::getInput(array("name" => "newownsenderID", "type" => "text", "value" => $ia8ae96136aabf34f35206c26b90f1af9088e8044)) . ' * ' . self::getNote(v_smswizard_intformat) . '</td> </tr> <tr id="newOwnSender"' . $ice3aeffb62401a3b61082f8cdfe9d0cc49126032 . '> <td>' . self::getLabel(v_smswizard_smscode, 'class="bold"') . '</td> <td>' . self::getInput(array("name" => "validateCode", "type" => "text", "value" => $this->v31f6359ed56e16253e2214540e9a74aa67a79f38)) . ' *</td> </tr> <tr> <td></td> <td>' . self::getInput(array("name" => "submitAddOwnNumberSenderID", "type" => "submit", "value" => v_smswizard_confirm)) . '</td> </tr> </tbody> </table> <div class="small note"><sup>*</sup> ' . v_adminsmsprofile_required . '</div>' . self::getInput(array("name" => "info", "type" => "hidden", "value" => $this->vfb4fc7683b8a345aa04bae018e72487978470e18)) . self::getInput(array("name" => "country", "type" => "hidden", "value" => $this->vab6a314decb74f5c532ecb082cfeb1655b9e98bb)) . self::getInput(array("name" => "type", "type" => "hidden", "value" => $this->v7f261894a2f47535041bff3d2f42c3969e819d98)) . self::getInput(array("name" => "action", "type" => "hidden", "value" => $this->v10362d0b58d010e644ea05e4195fc6f67d72e348)) . self::getInput(array("name" => "isms", "type" => "hidden", "value" => implode(";", $this->v13eb3507bfa321384575c03ba80ea011ee4d3321))) . self::getInput(array("name" => "sendedCode", "type" => "hidden", "value" => $this->ve5aa63528fa84652be7d86b274757e6ca3554317)); if(method_exists($this, "addToPostAdapter")) { $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= $this->addToPostAdapter(true); } $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= '</form>'; return $iae8c74e5273dec25096dbae362493a9f609ecfc8; } private function fffddc0d0ad3bf49141230d566bf6750bd2148ebc() { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = array(-1 => "- " . v_smswizard_textsid2 . " -"); $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT textsenderID FROM `" . DB_PREFIX . "sp_textsenderIDs` ORDER BY textsenderID"); if($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach($ic6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i43ef5aef4168652439ef5de195405ced9f0f7952) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[$i43ef5aef4168652439ef5de195405ced9f0f7952["textsenderID"]] = $i43ef5aef4168652439ef5de195405ced9f0f7952["textsenderID"]; } } return $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89; } private function fe6384d66988a761d4c5503e6a331406deb348e73() { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = array(-1 => "- " . v_smswizard_ownnrid . " -"); $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT ownnumbersenderID FROM `" . DB_PREFIX . "sp_ownnumbersenderIDs` ORDER BY ownnumbersenderID"); if($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach($ic6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i43ef5aef4168652439ef5de195405ced9f0f7952) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[$i43ef5aef4168652439ef5de195405ced9f0f7952["ownnumbersenderID"]] = $i43ef5aef4168652439ef5de195405ced9f0f7952["ownnumbersenderID"]; } } return $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89; } private function f922aad2a422f277c9ae988bc616f180c33de5aa8($i7f261894a2f47535041bff3d2f42c3969e819d98, $iab6a314decb74f5c532ecb082cfeb1655b9e98bb) { $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM `".DB_PREFIX."sp_routes` WHERE `area` = '" . $this->escape($iab6a314decb74f5c532ecb082cfeb1655b9e98bb) . "' AND `type` = '" . $this->escape($i7f261894a2f47535041bff3d2f42c3969e819d98) . "'"); if($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { return $ic6e936002fe51b97bc1b95f337c09606ceb011de->row; } return false; } private function fd73c23671f3c82c332b4eac714f554731268d76c() { $i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3 = date("Y-m-d"); $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "sp_settings WHERE name LIKE 'lastrefresh'"); if($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { $i38203966d6f0bcba8ac9392279f673a30f2fd326 = $ic6e936002fe51b97bc1b95f337c09606ceb011de->row["value"]; } else { $i38203966d6f0bcba8ac9392279f673a30f2fd326 = null; } if(!(strlen($i38203966d6f0bcba8ac9392279f673a30f2fd326) > 0)) { $this->fade57d5da7847fb09fec69a2f0ee4da222b04981(); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_settings VALUES (NULL, 'lastrefresh', '" . $this->escape($i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3) . "')"); } elseif($i38203966d6f0bcba8ac9392279f673a30f2fd326 != $i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3) { $this->fade57d5da7847fb09fec69a2f0ee4da222b04981(); $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("UPDATE " . DB_PREFIX . "sp_settings SET value = '" . $this->escape($i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3) . "' WHERE name LIKE 'lastrefresh'"); } } private function fade57d5da7847fb09fec69a2f0ee4da222b04981() { $i4367816f1ae76ddc44b3953c9ce6460e181a0a3a = new SmsModel($this->getDb()); $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "sp_routes group by area"); if($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach($ic6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i43ef5aef4168652439ef5de195405ced9f0f7952) { $i4367816f1ae76ddc44b3953c9ce6460e181a0a3a->refreshPriceList($i43ef5aef4168652439ef5de195405ced9f0f7952["area"]); } } } private function f31960320a6506b7885eaad4c0e46fc9475a6b9b1() { if(isset($this->payment[0])) { $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[0] = explode(":", $this->payment[0]); } if(isset($this->payment[1])) { $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[1] = explode(":", $this->payment[1]); } if(isset($this->payment[2])) { $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[2] = explode(":", $this->payment[2]); } return $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903; } private function f7930c3496d92cf735bab5246cafa53dd843e5683($i7f261894a2f47535041bff3d2f42c3969e819d98, $ia5b771997fd18ae718648792bf8964e6d5719c28, $i9c0bdbc3770943119b9a6de220a719092874cee9) { switch($i7f261894a2f47535041bff3d2f42c3969e819d98) { case 0: return v_smswizard_textsid . ' - <span class="note"> ' . htmlspecialchars($ia5b771997fd18ae718648792bf8964e6d5719c28) . '</span>'; break; case 1: return v_smswizard_systemnr . ' - <span class="note"> ' . v_smswizard_eg . ' +420602123456</span>'; break; case 2: if($ia5b771997fd18ae718648792bf8964e6d5719c28 == "e.g.: myweb.com") { $ia5b771997fd18ae718648792bf8964e6d5719c28 = '420602123456'; } return v_smswizard_ownnrsid . ' - <span class="note">&nbsp;&nbsp;+' . htmlspecialchars($ia5b771997fd18ae718648792bf8964e6d5719c28) . '</span>'; break; case 3: return v_smswizard_simhosting . ' (SIM: ' . htmlspecialchars($i9c0bdbc3770943119b9a6de220a719092874cee9) . ')'; break; } } } 